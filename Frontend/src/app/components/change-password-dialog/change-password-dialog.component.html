<h2 mat-dialog-title>Change Password</h2>
<mat-dialog-content>
    <form [formGroup]="changePasswordForm" class="change-password-form">
        <mat-form-field class="w-full">
            <mat-label>Old Password</mat-label>
            <input matInput type="password" formControlName="old_password" required>
            <mat-error>
                Old password is required.
            </mat-error>
        </mat-form-field>

        <mat-form-field class="w-full">
            <mat-label>New Password</mat-label>
            <input matInput type="password" formControlName="new_password" required (input)="onChange()">
            <mat-error>
                New password is required.
            </mat-error>
        </mat-form-field>
        @if (showPasswordTooltip) {
        <div class="custom-tooltip">
            {{ passwordTooltip }}
        </div>
        }

        <mat-form-field class="w-full">
            <mat-label>Confirm New Password</mat-label>
            <input matInput type="password" formControlName="confirm_password" required>
            <!-- <mat-error>
                Confirm new password is required.
            </mat-error> -->
            @if (changePasswordForm.get('confirm_password')?.hasError('passwordsMismatch')) {
            <mat-error>
                Passwords do not match.
            </mat-error>
            }
        </mat-form-field>
    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">Cancel</button>
    <button mat-raised-button color="primary" (click)="onSubmit()" [disabled]="changePasswordForm.invalid">
        Change Password
    </button>
</mat-dialog-actions>